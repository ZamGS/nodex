
<header class="clearfix">
    <a href="#/" data-toggle-min-nav
                 class="toggle-min"
                 ><i class="fa fa-bars"></i></a>

    <!-- Logo -->
    <div class="logo">
        <a href="#/" >
            <span>{{main.brand}} {{main.prueba.id}}</span>
        </a>        
    </div>

    <!-- needs to be put after logo to make it working-->
    <div class="menu-button" toggle-off-canvas>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </div>

    <div class="top-nav" ng-controller="NavCtrl">
        <ul class="nav-left list-unstyled">
            <li class="dropdown">
                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-envelope-o nav-icon"></i>
                    <span class="badge badge-danger" ng-if="notificacionesMensajesTotal>0">{{ notificacionesMensajesTotal }}</span>                    
                </a>
                <div class="dropdown-menu with-arrow panel panel-default">
                    <div class="panel-heading">
                        Tienes {{ notificacionesMensajesTotal }} mensajes
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item" ng-repeat="m in notificacionesMensajes">
                            <a href="/#/pagina/{{ m.mensaje_pagina_id }}/mensaje/{{ m.mensaje_id }}" class="media">
                                <span class="pull-left media-icon bg-info" >
                                    <span class="round-icon sm" ><i class="fa fa-envelope-o"></i></span>
                                </span>
                                <div class="media-body">
                                    <span class="block">{{ m.mensaje_asunto }} </span>
                                    <span class="text-muted block">{{ m.mensaje_fecha  | date: 'dd/M/yy'}}</span>
                                </div>
                            </a>
                        </li>                       
                    <div class="panel-footer">
                        <a href="javascript:;">Ver todas.</a>
                    </div>
                </div>
            </li>                     
            <li class="dropdown">
                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-bell-o nav-icon"></i>
                    <span class="badge badge-warning" ng-if="TotalPaginasVencidas>0">{{ TotalPaginasVencidas }}</span>
                </a>
                <div class="dropdown-menu with-arrow panel panel-default">
                    <div class="panel-heading">
                        Tienes {{ TotalPaginasVencidas }} notificaciones
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item" ng-repeat="pv in PaginasVencidas">
                            <a href="/#/pagina/{{ pv.pagina_id }}" class="media">
                                <span class="pull-left media-icon">
                                    <span class="round-icon sm bg-danger"><i class="fa fa-bell-o"></i></span>
                                </span>
                                <div class="media-body">
                                    <span class="block">{{ pv.pagina_nombre }}</span>
                                    <span class="text-muted block">{{ pv.pagina_vencimiento  | date: 'dd/M/yy'}}</span>
                                </div>
                            </a>
                        </li>                       
                    <div class="panel-footer">
                        <a href="javascript:;">Show all notifications.</a>
                    </div>
                </div>
            </li>
            <!-- <li style="background-color:#d33;margin-left:10px">
                <a href="javascript:;" ng-click="open()" ng-controller="ModalPagina" style="background-color:#d33;color:#fff">
                    <span data-i18n="Nueva página"></span>
                </a>                
            </li> -->
            <li style="background-color:#fff;margin-left:10px">
                <a href="javascript:;"  go-back  style="background-color:#fff;color:#444" >{{ $routeParams.pagina_id }}
                    <i class="glyphicon glyphicon-arrow-left"></i><span data-i18n="Atrás"></span>
                </a>                
            </li>
                    
        </ul>

        <ul class="nav-left pull-right list-unstyled hidden-phone" >
             
            
            <li class="dropdown hidden-xs">
                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                    <span data-i18n="Mis páginas"></span>  <span class="caret"></span> {{ paginas }}
                </a>
                <ul  class="dropdown-menu with-arrow pull-right" role="menu">
                    
                        <li ng-repeat="pagina in misPaginas">
                            <a href="#/pagina/{{ pagina.pagina_id }}">{{ pagina.pagina_nombre }}</a>
                        </li>
                        <li><a href="#/pagina/add">Crear una nueva página</a></li>
                    
                </ul>
                
            </li>   
 
            <li class="dropdown langs text-normal hidden-xs" data-ng-controller="LangCtrl">
                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                    {{lang}}
                </a>
                <ul class="dropdown-menu with-arrow pull-right list-langs" role="menu">
                    <li data-ng-show="lang !== 'English' ">
                        <a href="javascript:;" data-ng-click="setLang('English')"><div class="flag flags-american"></div> English</a></li>
                    <li data-ng-show="lang !== 'Español' ">
                        <a href="javascript:;" data-ng-click="setLang('Español')"><div class="flag flags-spain"></div> Español</a></li>                    
                    <li data-ng-show="lang !== 'Deutsch' ">
                        <a href="javascript:;" data-ng-click="setLang('Deutsch')"><div class="flag flags-german"></div> Deutsch</a></li>
                    <li data-ng-show="lang !== 'français' ">
                        <a href="javascript:;" data-ng-click="setLang('français')"><div class="flag flags-france"></div> français</a></li>
                    <li data-ng-show="lang !== 'Italiano' ">
                        <a href="javascript:;" data-ng-click="setLang('Italiano')"><div class="flag flags-italy"></div> Italiano</a></li>
                    <li data-ng-show="lang !== 'Portugal' ">
                        <a href="javascript:;" data-ng-click="setLang('Portugal')"><div class="flag flags-portugal"></div> Portugal</a></li>
                    <li data-ng-show="lang !== 'Русский язык' ">
                </ul>
            </li>
            <li class="dropdown text-normal nav-profile">
                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                    <img ng-src="{{ main.foto }}" alt="" class="img-circle img30_30">
                    <span class="hidden-xs">
                        {{usuario.usuario_nombre}} 
                    </span>
                </a>
                
                <ul class="dropdown-menu with-arrow pull-right">
                    <li>
                        <a href="#/usuario/perfil">
                            <i class="fa fa-user"></i>
                            <span data-i18n="My Profile"></span>
                        </a>
                    </li>
                    <li>
                        <a href="#/usuario/password">
                            <i class="fa fa-lock"></i>
                            <span data-i18n="Cambiar contraseña"></span>
                        </a>
                    </li>
                    <!-- <li>
                        <a href="#/tasks">
                            <i class="fa fa-check"></i>
                            <span data-i18n="My Tasks"></span>
                        </a>
                    </li>
                    <li>
                        <a href="#/pages/lock-screen">
                            <i class="fa fa-lock"></i>
                            <span data-i18n="Lock"></span>
                        </a>
                    </li> -->
                    <li>
                        <a href="/logout">
                            <i class="fa fa-sign-out"></i>
                            <span data-i18n="Log Out"></span>
                        </a>
                    </li>
                </ul>
            </li>

        </ul>        
    </div>

</header>